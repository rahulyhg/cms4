!function(e){function t(o){if(a[o])return a[o].exports;var n=a[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,o){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=36)}({36:function(e,t,a){e.exports=a(37)},37:function(e,t){!function(e,t){"use strict";t.ext.buttons.reload={className:"buttons-reload",text:function(e){return'<i class="fa fa-refresh"></i> '+e.i18n("buttons.reload",Botble.languages.tables.reload)},action:function(e,t){t.draw(!1)}};var a=a||{};a.init=function(){void 0!==window.LaravelDataTables&&(e(".group-checkable").uniform(),e(document).on("change",".group-checkable",function(){var t=e(this).attr("data-set"),a=e(this).prop("checked");e(t).each(function(){a?e(this).prop("checked",!0):e(this).prop("checked",!1)}),e.uniform.update(t),e(this).uniform()}),e(document).on("change",".checkboxes",function(){var t=e(this).closest(".table-wrapper").find(".table").prop("id"),a=[],o=e("#"+t);o.find(".checkboxes:checked").each(function(t){a[t]=e(this).val()}),a.length!==o.find(".checkboxes").length?e(this).closest(".table-wrapper").find(".group-checkable").prop("checked",!1).uniform():e(this).closest(".table-wrapper").find(".group-checkable").prop("checked",!0).uniform()}))},a.handleActionsRow=function(){e(document).ready(function(){e(document).on("click","table.dataTable .action-delete",function(t){t.preventDefault(),e(".modal-confirm-delete button[type=submit]").data({href:e(this).prop("href"),"table-name":e(this).closest("table").attr("id"),class:e(this).data("class")}),e(".modal-confirm-delete").modal("show")}),e(document).on("click",".modal-confirm-delete button[type=submit]",function(t){t.preventDefault();var a=e(this).data("href"),o=e(this).data("table-name");a&&e.ajax({url:a,type:"delete",dataType:"json",data:{class:e(this).data("class")},success:function(t){t.error||(Botble.showNotice("success",t.message),e(".modal-confirm-delete").modal("hide"),window.LaravelDataTables[o].draw(!1))},error:function(e){422===e.status&&Botble.showNotice("error","Cannot delete")}})}),e(document).on("click",".delete-many-entry-trigger",function(t){t.preventDefault();var a=e(this).closest(".table-wrapper").find(".table").prop("id"),o=[];if(e("#"+a).find(".checkboxes:checked").each(function(t){o[t]=e(this).val()}),0===o.length)return Botble.showNotice("error","Please select at least one record to perform this action!"),!1;e(".delete-many-entry-button").data("href",e(this).prop("href")).data("parent-table",a).data("class",e(this).data("class")),e(".delete-many-modal").modal("show")}),e(".delete-many-entry-button").on("click",function(t){t.preventDefault(),e(".delete-many-modal").modal("hide");var a=e(this),o=e("#"+a.data("parent-table")),n=[];o.find(".checkboxes:checked").each(function(t){n[t]=e(this).val()}),e.ajax({url:e(this).data("href"),type:"POST",data:{ids:n,class:a.data("class")},success:function(t){t.error?Botble.showNotice("error",t.message):(o.find(".group-checkable").prop("checked",!1),e.uniform.update(o.find(".group-checkable")),window.LaravelDataTables[a.data("parent-table")].draw(),Botble.showNotice("success",t.message))},error:function(e){Botble.handleError(e)}})}),e(document).on("click",".bulk-change-item",function(t){t.preventDefault();var o=e(this).closest(".table-wrapper").find(".table").prop("id"),n=[];if(e("#"+o).find(".checkboxes:checked").each(function(t){n[t]=e(this).val()}),0===n.length)return Botble.showNotice("error","Please select at least one record to perform this action!"),!1;a.loadBulkChangeData(e(this)),e(".confirm-bulk-change-button").data("parent-table",o).data("class",e(this).data("class")).data("key",e(this).data("key")).data("url",e(this).data("save-url")),e(".modal-bulk-change-items").modal("show")}),e(document).on("click",".confirm-bulk-change-button",function(t){t.preventDefault();var a=e(this),o=a.closest(".modal").find(".input-value").val(),n=a.data("key"),c=e("#"+a.data("parent-table")),r=[];c.find(".checkboxes:checked").each(function(t){r[t]=e(this).val()});var l=a.text();a.text("Processing..."),e.ajax({url:a.data("url"),type:"POST",data:{ids:r,key:n,value:o,class:a.data("class")},success:function(t){t.error?Botble.showNotice("error",t.message):(c.find(".group-checkable").prop("checked",!1),e.uniform.update(c.find(".group-checkable")),e.each(r,function(e,t){window.LaravelDataTables[a.data("parent-table")].row(c.find('.checkboxes[value="'+t+'"]').closest("tr")).remove().draw()}),Botble.showNotice("success",t.message),e(".modal-bulk-change-items").modal("hide")),a.text(l)},error:function(t){Botble.handleError(t),a.text(l),e(".modal-bulk-change-items").modal("hide")}})})})},a.loadBulkChangeData=function(t){var a=e(".modal-bulk-change-items");e.ajax({type:"GET",url:a.find(".confirm-bulk-change-button").data("load-url"),data:{class:t.data("class"),key:t.data("key")},success:function(t){var o=e.map(t.data,function(e,t){return{id:t,name:e}}),n=e(".modal-bulk-change-content");n.html(t.html);var c=a.find("input[type=text].input-value");c.length&&(c.typeahead({source:o}),c.data("typeahead").source=o),Botble.initResources(),n.find(".datetimepicker").datetimepicker({format:"YYYY/MM/DD"})},error:function(e){Botble.handleError(e)}})},a.reload=function(e){window.LaravelDataTables[e].draw(!1)},a.handleActionsExport=function(){e(document).ready(function(){e(document).on("click",".export-data",function(t){var a=e(this).closest(".table-wrapper").find(".table").prop("id"),o=[];e("#"+a).find(".checkboxes:checked").each(function(t){o[t]=e(this).val()}),t.preventDefault(),e.ajax({type:"POST",url:e(this).prop("href"),data:{"ids-checked":o},success:function(e){var t=document.createElement("a");t.href=e.file,t.download=e.name,document.body.appendChild(t),t.click(),t.remove()},error:function(e){Botble.handleError(e)}})})})},e(document).ready(function(){a.init(),a.handleActionsRow(),a.handleActionsExport(),e(document).on("click",".btn-show-table-options",function(t){t.preventDefault(),e(this).closest(".table-wrapper").find(".table-configuration-wrap").slideToggle(500)})})}(jQuery,jQuery.fn.dataTable)}});